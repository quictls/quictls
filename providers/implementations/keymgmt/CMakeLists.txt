if (NOT OPENSSL_NO_ASM)
    set(ecdef_s390x S390X_EC_ASM)
    if (DEFINED ecdef_${ARCH})
        set(ecdef ${ecdef_${ARCH})
    endif ()
endif ()

target_sources(defprov PRIVATE rsa_kmgmt.c kdf_legacy_kmgmt.c mac_legacy_kmgmt.c)

if (NOT OPENSSL_NO_DH)
    target_sources(defprov PRIVATE dh_kmgmt.c)
  endif ()
if (NOT OPENSSL_NO_DSA)
    target_sources(defprov PRIVATE dsa_kmgmt.c)
  endif ()
if (NOT OPENSSL_NO_EC)
    target_sources(defprov PRIVATE ec_kmgmt.c)
endif ()

if (NOT OPENSSL_NO_EC)
    target_sources(defprov PRIVATE ecx_kmgmt.c)
    if (DEFINED ecdef)
        target_compile_definitions(defprov ${ecdef})
    endif ()
endif ()
